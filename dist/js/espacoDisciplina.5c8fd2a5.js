(function(t){function a(a){for(var i,n,l=a[0],s=a[1],c=a[2],d=0,p=[];d<l.length;d++)n=l[d],o[n]&&p.push(o[n][0]),o[n]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);u&&u(a);while(p.length)p.shift()();return r.push.apply(r,c||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],i=!0,l=1;l<e.length;l++){var s=e[l];0!==o[s]&&(i=!1)}i&&(r.splice(a--,1),t=n(n.s=e[0]))}return t}var i={},o={espacoDisciplina:0},r=[];function n(a){if(i[a])return i[a].exports;var e=i[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=i,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)n.d(e,i,function(a){return t[a]}.bind(null,i));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=a,l=l.slice();for(var c=0;c<l.length;c++)a(l[c]);var u=s;r.push([11,"chunk-vendors"]),e()})({11:function(t,a,e){t.exports=e("4f87")},"4f87":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("f751"),e("097d");var i=e("2b0e"),o=e("ce5b"),r=e.n(o),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-app",[e("Menu"),e("Navbar",{attrs:{estaLogado:""}}),e("v-content",[e("ModuloEspacoDisc")],1),e("Footer")],1)},l=[],s=e("d178"),c=e("fd2d"),u=e("fb62"),d=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{fluid:"","fill-height":""}},[e("v-layout",[e("v-flex",{attrs:{xs12:""}},[e("h1",[t._v("Espaço da Disciplina")]),e("v-divider"),e("v-container",{attrs:{fluid:"","grid-list-md":""}},[e("h3",[t._v("Nome: "+t._s(t.disciplina.name))]),e("v-layout",{attrs:{"align-start":"",row:""}},[e("v-flex",{attrs:{xs3:""}},[e("h3",[t._v("Código: "+t._s(t.disciplina.code)+" ")])]),e("v-flex",{attrs:{xs9:""}},[e("h3",[t._v("Turma: "+t._s("graduate"==t.disciplina.category?"Graduação":"Pós-Graduação")+" ")])])],1),e("v-layout",{staticClass:"mb-5",attrs:{"align-center":""}},[e("v-flex",{attrs:{xs1:""}},[e("h3",[t._v("Ementa:")])]),null!=t.disciplina.summary.url?e("div",[e("v-btn",{attrs:{icon:"",flat:"",href:t.url_base+t.disciplina.summary.url,target:"_blank"}},[e("v-icon",[t._v("picture_as_pdf")])],1),e("input",{ref:"ementa",attrs:{type:"file",id:"file",required:""},on:{change:t.onEmentaChange}}),e("v-btn",{attrs:{flat:"",icon:"",loading:t.loading1},on:{click:t.adicionarEmenta}},[e("v-icon",[t._v("cloud_upload")])],1)],1):e("div",[e("input",{ref:"ementa",attrs:{type:"file",id:"file",required:""},on:{change:t.onEmentaChange}}),e("v-btn",{attrs:{flat:"",icon:"",loading:t.loading1},on:{click:t.adicionarEmenta}},[e("v-icon",[t._v("add_circle")])],1)],1)],1),t._l(t.materiais,function(a){return e("v-card",{key:a.id,staticClass:"mt-2",attrs:{"min-height":"30",hover:""}},[e("v-layout",{attrs:{"align-center":""}},[e("v-flex",{attrs:{xs11:""}},[e("v-card-text",[t._v(" \n                                "+t._s(a.name)+"\n                            ")])],1),e("v-layout",{attrs:{"align-content-center":""}},[e("v-flex",{attrs:{xs1:""}},[e("v-card-actions",[e("v-btn",{attrs:{icon:"",flat:"",href:t.url_base+a.file_to_upload.url,target:"_blank"}},[e("v-icon",[t._v(" picture_as_pdf")])],1),e("v-btn",{attrs:{icon:"",flat:""},on:{click:function(e){return t.removerMaterial(a)}}},[e("v-icon",[t._v(" remove_circle ")])],1)],1)],1)],1)],1)],1)}),e("v-form",{ref:"formulario",staticClass:"mt-5"},[e("v-layout",{attrs:{"align-center":"","justify-space-around":""}},[e("v-flex",{attrs:{xs8:""}},[e("v-text-field",{attrs:{label:"Nome do arquivo",required:""},model:{value:t.name_file,callback:function(a){t.name_file=a},expression:"name_file"}})],1),e("v-flex",[e("input",{ref:"file",attrs:{type:"file",id:"file",required:""},on:{change:t.onFileChange}})]),e("v-flex",[e("v-btn",{attrs:{outline:"",color:"info",loading:t.loading2},on:{click:t.adicionarMaterial}},[t._v("Adicionar")])],1)],1)],1)],2)],1)],1)],1)},p=[],f=(e("7f7f"),e("bc3a")),v=e.n(f),m={headers:{"access-token":localStorage.getItem("data['at']"),client:localStorage.getItem("data['c']"),"content-type":localStorage.getItem("data['ct']"),uid:localStorage.getItem("data['uid']")}},h={headers:{"access-token":localStorage.getItem("data['at']"),client:localStorage.getItem("data['c']"),"content-type":"multipart/form-data",uid:localStorage.getItem("data['uid']")}},g={data:function(){return{disciplina:null,ementa:null,materiais:[],name_file:"",file:null,url_base:"https://sisplagea-api.herokuapp.com",loading1:!1,loading2:!1,uploadReady:!0}},methods:{onFileChange:function(t){var a=t.target.files;a.length>=1?this.file=this.$refs.file.files[0]:this.file=null},onEmentaChange:function(t){var a=t.target.files;1==a.length?this.ementa=this.$refs.ementa.files[0]:this.ementa=null},adicionarMaterial:function(){var t=this;if(null!=this.file&&this.name_file.length>0){this.loading2=!0;var a=new FormData;a.append("subject_id",this.disciplina.id),a.append("file_to_upload",this.file,this.file.name),a.append("name",this.name_file),v()({method:"post",url:"https://sisplagea-api.herokuapp.com/api/v1/attachments.json",data:a,headers:h.headers}).then(function(a){t.materiais.push(a.data),t.$refs.formulario.reset(),t.loading2=!1;var e=t.$refs.file;e.type="text",e.type="file"}).catch(function(a){alert("Erro ao adicionar "+a),t.loading2=!1})}},removerMaterial:function(t){var a=this,e=confirm("Deseja mesmo remover esse material");e&&v()({method:"delete",url:"https://sisplagea-api.herokuapp.com/api/v1/attachments/"+t.id+".json",headers:m.headers}).then(function(e){a.materiais.splice(a.materiais.indexOf(t),1)}).catch(function(t){alert("Erro ao remover"+t)})},adicionarEmenta:function(){var t=this;if(null!=this.ementa){this.loading1=!0;var a=new FormData;a.append("summary",this.ementa),v()({method:"put",url:"https://sisplagea-api.herokuapp.com/api/v1/subjects/"+this.disciplina.id+".json",data:a,headers:h.headers}).then(function(a){t.disciplina=a.data,t.loading1=!1;var e=t.$refs.ementa;e.type="text",e.type="file"}).catch(function(a){alert("Erro ao adicionar ementa "+a),t.loading1=!1})}},reset:function(){var t=this.$refs.file;t.type="file"}},mounted:function(){var t=this;v()({method:"get",url:"https://sisplagea-api.herokuapp.com/api/v1/subjects/"+localStorage.getItem("idDisciplina")+".json",headers:m.headers}).then(function(a){t.disciplina=a.data}).catch(function(){alert("erro")}),v()({method:"get",url:"https://sisplagea-api.herokuapp.com/api/v1/subjects/"+localStorage.getItem("idDisciplina")+"/materials.json",headers:m.headers}).then(function(a){t.materiais=a.data.materials}).catch(function(){alert("Erro ao buscar os materiais")})}},_=g,b=e("2877"),x=e("6544"),y=e.n(x),k=e("8336"),C=e("b0af"),V=e("99d9"),S=e("a523"),j=e("ce7e"),I=e("0e8f"),P=e("4bd4"),w=e("132d"),E=e("a722"),T=e("2677"),D=Object(b["a"])(_,d,p,!1,null,null,null),O=D.exports;y()(D,{VBtn:k["a"],VCard:C["a"],VCardActions:V["a"],VCardText:V["b"],VContainer:S["a"],VDivider:j["a"],VFlex:I["a"],VForm:P["a"],VIcon:w["a"],VLayout:E["a"],VTextField:T["a"]});var L={headers:{"access-token":localStorage.getItem("data['at']"),client:localStorage.getItem("data['c']"),"content-type":localStorage.getItem("data['ct']"),uid:localStorage.getItem("data['uid']")}};null==L.headers.client&&(window.location.href="/login.html");var q={name:"app",components:{Navbar:s["a"],Footer:c["a"],Menu:u["a"],ModuloEspacoDisc:O}},M=q,A=e("7496"),$=e("549c"),F=Object(b["a"])(M,n,l,!1,null,null,null),G=F.exports;y()(F,{VApp:A["a"],VContent:$["a"]});e("bf40");i["default"].config.productionTip=!1,i["default"].use(r.a),new i["default"]({render:function(t){return t(G)}}).$mount("#app")},d178:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-toolbar",{staticClass:"light-blue darken-3",attrs:{app:"",dark:"","clipped-left":"",dense:"",fixed:""}},[e("v-toolbar-title",{staticClass:"headline"},[e("v-icon",{attrs:{large:""}},[t._v("business")]),e("span",[t._v(" SisPlagea")]),e("span",{staticClass:"font-weight-light text-uppercase"},[t._v(" - Sistema de Planejamento e Gestão de Atividades")])],1),e("v-spacer"),t.estaLogado?e("v-btn",{attrs:{flat:"",href:"/mensagens.html"}},[e("span",{staticClass:"mr-2"},[t._v("Mensagens")]),e("v-icon",[t._v("email")])],1):t._e(),t.estaLogado?e("v-btn",{attrs:{flat:""},on:{click:t.logout}},[e("span",{staticClass:"mr-2"},[t._v("Sair")]),e("v-icon",[t._v("input")])],1):e("v-btn",{attrs:{flat:"",href:"/login.html"}},[e("span",{staticClass:"mr-2"},[t._v("Login")]),e("v-icon",[t._v("account_circle")])],1)],1)},o=[],r=e("bc3a"),n=e.n(r),l={headers:{"access-token":localStorage.getItem("data['at']"),client:localStorage.getItem("data['c']"),"content-type":localStorage.getItem("data['ct']"),uid:localStorage.getItem("data['uid']")}},s={name:"Navbar",props:{estaLogado:Boolean},methods:{logout:function(){n()({method:"delete",url:"https://sisplagea-api.herokuapp.com/api/v1/auth/sign_out",headers:l.headers}).then(function(t){200==t.status&&(localStorage.removeItem("data['at']"),localStorage.removeItem("data['c']"),localStorage.removeItem("data['ct']"),localStorage.removeItem("data['rt']"),localStorage.removeItem("data['uid']"),window.location.href="/index.html")}).catch(function(){})}}},c=s,u=e("2877"),d=e("6544"),p=e.n(d),f=e("8336"),v=e("132d"),m=e("9910"),h=e("71d9"),g=e("2a7f"),_=Object(u["a"])(c,i,o,!1,null,null,null);a["a"]=_.exports;p()(_,{VBtn:f["a"],VIcon:v["a"],VSpacer:m["a"],VToolbar:h["a"],VToolbarTitle:g["a"]})},fb62:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-navigation-drawer",{staticClass:"grey darken-4",attrs:{width:"250",dark:"","mobile-break-point":"700",clipped:"",fixed:"",app:""}},[e("v-toolbar",{staticClass:"transparent",attrs:{flat:""}},[e("v-list",[e("v-list-tile",{attrs:{avatar:""}},[e("v-list-tile-avatar",{attrs:{color:"white"}},[e("v-img",{attrs:{contain:"",src:t.photo_url}})],1),e("v-list-tile-content",[e("v-list-tile-title",{staticClass:"title"},[t._v(t._s(t.informacoes.name))])],1)],1)],1)],1),e("v-list",{attrs:{"two-line":""}},[e("v-divider"),t._l(t.opcoes,function(a,i){return e("v-list-tile",{key:i,staticClass:"v-list-item",attrs:{href:a.para}},[e("v-list-tile-action",[e("v-icon",[t._v(t._s(a.icone))])],1),e("v-list-tile-title",{domProps:{textContent:t._s(a.titulo)}})],1)}),e("v-list-group",{attrs:{"sub-group":"","no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[e("v-list-tile",[e("v-list-tile-title",[t._v("Cadastrar")])],1)]},proxy:!0}])},t._l(t.cadastros,function(a,i){return e("v-list-tile",{key:i,staticClass:"v-list-item",attrs:{href:a.para}},[e("v-list-tile-title",{domProps:{textContent:t._s(a.titulo)}}),e("v-list-tile-action",[e("v-icon",[t._v(t._s(a.icone))])],1)],1)}),1),e("v-list-group",{attrs:{"sub-group":"","no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[e("v-list-tile",[e("v-list-tile-title",[t._v("Listar/Editar")])],1)]},proxy:!0}])},t._l(t.listas,function(a,i){return e("v-list-tile",{key:i,staticClass:"v-list-item",attrs:{href:a.para}},[e("v-list-tile-title",{domProps:{textContent:t._s(a.titulo)}}),e("v-list-tile-action",[e("v-icon",[t._v(t._s(a.icone))])],1)],1)}),1)],2)],1)},o=[],r=e("bc3a"),n=e.n(r),l={data:function(){return{informacoes:"",photo_url:"",url_base:"https://sisplagea-api.herokuapp.com/",opcoes:[{titulo:"Home",icone:"home",para:"/home.html"},{titulo:"Adicionar Aluno",icone:"person_add",para:"/adicionarAluno.html"},{titulo:"Buscar atividades",icone:"search",para:"/buscarAtividades.html"},{titulo:"Editar Info Pessoais",icone:"settings",para:"/infoPessoais.html"}],cadastros:[{titulo:"Publicação",icone:"import_contacts",para:"/cadastrarPublicacao.html"},{titulo:"Grupo pesq.",icone:"group_add",para:"/cadastrarGrupoPesq.html"},{titulo:"Projeto pesq.",icone:"attachment",para:"/cadastrarProjPesq.html"},{titulo:"Disciplina",icone:"border_color",para:"/cadastrarDisciplina.html"}],listas:[{titulo:"Alunos",icone:"supervisor_account",para:"/listarAlunos.html"},{titulo:"Publicação",icone:"import_contacts",para:"/listarPublicacoes.html"},{titulo:"Grupo pesq.",icone:"group_add",para:"/listarGruposPesq.html"},{titulo:"Projeto pesq.",icone:"attachment",para:"/listarProjPesq.html"},{titulo:"Disciplina",icone:"border_color",para:"/listarDisciplinas.html"}]}},mounted:function(){var t=this;n()({method:"get",url:"https://sisplagea-api.herokuapp.com/api/v1/users/info.json"}).then(function(a){t.informacoes=a.data,t.photo_url=t.url_base+t.informacoes.photo.url}).catch(function(){alert("erro")})}},s=l,c=e("2877"),u=e("6544"),d=e.n(u),p=e("ce7e"),f=e("132d"),v=e("adda"),m=e("8860"),h=e("56b0"),g=e("ba95"),_=e("40fe"),b=e("c954"),x=e("5d23"),y=e("f774"),k=e("71d9"),C=Object(c["a"])(s,i,o,!1,null,null,null);a["a"]=C.exports;d()(C,{VDivider:p["a"],VIcon:f["a"],VImg:v["a"],VList:m["a"],VListGroup:h["a"],VListTile:g["a"],VListTileAction:_["a"],VListTileAvatar:b["a"],VListTileContent:x["a"],VListTileTitle:x["b"],VNavigationDrawer:y["a"],VToolbar:k["a"]})},fd2d:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-footer",{attrs:{dark:"",inset:"",absolute:"",dense:"",app:"",height:"auto"}},[e("v-card",{staticClass:"flex light-blue darken-3 white--text text-xs-center",attrs:{flat:"",tile:""}},[e("v-card-text",{staticClass:"white--text pt-3"},[t._v("\n            Trabalho de Programação Web.\n        ")]),e("v-divider"),e("v-card-text",{staticClass:"white--text"},[t._v("©2019 — "),e("strong",[t._v("Fábrica de Bugs")])])],1)],1)},o=[],r=e("2877"),n=e("6544"),l=e.n(n),s=e("b0af"),c=e("99d9"),u=e("ce7e"),d=e("553a"),p={},f=Object(r["a"])(p,i,o,!1,null,null,null);a["a"]=f.exports;l()(f,{VCard:s["a"],VCardText:c["b"],VDivider:u["a"],VFooter:d["a"]})}});
//# sourceMappingURL=espacoDisciplina.5c8fd2a5.js.map